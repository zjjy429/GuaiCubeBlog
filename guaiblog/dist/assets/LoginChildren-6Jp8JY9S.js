import{_ as x,r as c,u as b,c as h,a as o,b as r,w as n,d as i,e as y,E as C,f as V,o as L,g as p,h as S,l as B}from"./index-B46mPj1l.js";const E={class:"LoginChildrenPage"},U={__name:"LoginChildren",setup(q){const u=c(),s=c({username:"",password:""}),a=V(),f={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:5,max:30,message:"用户名必须是5-30位的字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是6-15位的非空字符",trigger:"blur"}]},g=()=>{a.push({name:"Regist"})},_=b(),v=async()=>{await u.value.validate();const t=await y(s.value);_.setToken(t.data.token),C.success("登录成功"),console.log("开始登录了",t),a.push("/home")},w=()=>{a.push({name:"verifyemail"})};return(t,e)=>{const m=i("el-input"),d=i("el-form-item"),k=i("el-form");return L(),h("div",E,[e[2]||(e[2]=o("div",{class:"title"},"账号登录",-1)),e[3]||(e[3]=o("div",{class:"welcomeback"},"欢迎回来，请登录您的账号",-1)),r(k,{class:"form",model:s.value,rules:f,ref_key:"form",ref:u},{default:n(()=>[r(d,{prop:"username",class:"username"},{default:n(()=>[r(m,{"prefix-icon":p(S),modelValue:s.value.username,"onUpdate:modelValue":e[0]||(e[0]=l=>s.value.username=l),style:{width:"40rem"},placeholder:"请输入用户名"},null,8,["prefix-icon","modelValue"])]),_:1}),r(d,{prop:"password",class:"password"},{default:n(()=>[r(m,{"prefix-icon":p(B),modelValue:s.value.password,"onUpdate:modelValue":e[1]||(e[1]=l=>s.value.password=l),style:{width:"40rem"},type:"password",placeholder:"请输入密码","show-password":""},null,8,["prefix-icon","modelValue"])]),_:1})]),_:1},8,["model"]),o("div",{class:"submit",onClick:v},"登录"),o("div",{class:"verifyemail functionitem",onClick:w},"忘记密码?"),o("div",{class:"regist functionitem",onClick:g},"去注册账号")])}}},N=x(U,[["__scopeId","data-v-fed27ed4"]]);export{N as default};
